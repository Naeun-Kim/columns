
웹액츄얼리에서 보내주신 '인간다운 Git'을 읽고 그동안의 Git 삽질을 회고하는 글을 한 편 써 봤습니다.

## OH MY GIT!! 

Git을 처음 접한 건, 2016년 여름이었다.

그때 운 좋게 훌륭한 선임을 만나 Git을 비롯한 Front-end 전반의 Flow를 배웠다. 과외에 버금가는 자세한 설명과 이후 ~~수많은~~ 삽질의 해결에 함께 해 주시고, 여기까지 공부할 수 있었던 초석을 닦게 해준 참 감사한 경험이었다.

처음 Git을 접했을 때 마치 타임머신같다는 느낌을 받았고 (머리가 10차원쯤 되는) 천재가 만들지 않았을까 생각했는데 역시나, 리누스 토발즈라는 리눅스를 만든 천재 개발자의 작품이었다.

처음에는 당장 써야 하니까 팀 내의 Git 규약에 따라 루틴을 외워서 진행했었고, 2달 반을 삽질하고 나니 개념이 잡히기 시작했다. 어떨 때는 업무에 1시간 걸렸다면 Git으로 커밋하고 푸시하고 꼬인 부분을 풀기 위해 삽질하는 데 3시간 넘게 걸릴 때도 있었으니까. 그때 꼬인 타임라인을 푸는 걸 보고 있으면 마법같이 보였고, 아마 지금도 그 부분은 크게 다르지 않을 것이다.

그만큼 Git은 일단 개념을 이해하는 것부터 난제이지만 실무에서 문제가 생기면 초보가 스스로 해결하는 게 녹록치 않다. 어느 정도 삽질의 노하우가 쌓인 후에는 무슨 문제인지는 알기 때문에 구글님과 함께하면 된다.

## 한번 인간답게 써볼까?

Git을 사용하는 방법은 크게 두 가지가 있다.

터미널을 쓰는 방법과 Sourcetree같은 GUI 툴을 쓰는 방법. 그런데 처음에는 터미널을 쓰는 방법을 권하고 싶다. 왜냐하면 Git이 어떤 식으로 작동하는지 개념을 이해하기에 좋기 때문이다. 당장 이해할 시간이 없다, 그러면 GUI 툴을 쓰는 것도 방법이고, 이 두 가지를 병행하는 것도 좋다. 이 부분에 있어서는 책의 저자의 의견도 같다.

그럼 여기서 한 번 따져보자. 나는 그 전에도 터미널을 쓰던 유저였을까? 대답은 No이다.
디자이너 출신 마크업 개발자이고, Front-end 쪽을 접한 건 책의 예제에서였기 때문에 npm 컨트롤, express 설치 이 정도가 가능한 레벨이었기 때문이다. 실제로 Git을 접하면서 터미널 명령어 튜토리얼을 찾아서 연습을 했다. 다행이 살짝만 다룰줄 알면 된다.

### 필요 사전 지식- 터미널 다루기

일단 이 책은 작고 얇지만 이런 일련의 과정을 거치는 사람에게 맞도록 구성되어 있다고 생각되는 건, '기초적인' 터미널 명령어 사용법에 대해서도 짚고 넘어가고 있기 때문이다.  

## Git은 어떻게 말하나?

git checkout master --> git아 master브랜치에 checkout해

이런 식으로 말한다. 모든 명령어는 이 순서대로 간다고 보면 된다.

## 추가(add)

기존의 버전관리에서 커밋을 파일 추가와 동의어로 쓰지만 Git에서는 파일을 추가하면 Stage 영역에 추가 되고, 그때 커밋이 가능하다.
이 Stage 영역은 다른 사람들과 공유되지 않고 로컬 컴퓨터에서만 존재한다.

    git add <file>

## 커밋(commit)

커밋은 기존의 버전관리에서 쓰는 그 커밋과 단어는 같지만, Git에서는 조금 다르다.
파일을 추가하는 것이 아니라, 변경사항을 기록하는 것이다.
Git에서의 커밋은 절대 손실되지 않는다. 각각의 커밋은 Commit id라는 지문이 찍힌 채 스냅샷으로 보존된다.

책 본문을 보자.

> 커밋은 객체라고 하는 Git 데이터의 한 종류다.

> 의미론적으로 각 커밋은 주어진 어느 한 순간의 프로젝트 상태를 나타내는 완전한 **스냅샷**이다.

> Git 데이터베이스에 있는 아이템은 손실되지 않는, 즉 불변의 데이터다. **데이터는 절대로 변경되지 않으며, 오로지 추가만 될 뿐이다. Git은 축적하는 시스템이다.** 사용자가 변경한 모든 사항에 대해 축적함으로써, 나중에 그 히스토리를 다시 둘러보거나 되돌릴 수 있다.

이 부분이 Git 개념의 핵심이라고 본다. Git을 사용하는 큰 이유 중 하나이다. 실무에서 데이터를 날렸을 때, 되돌릴 수 있다는 건 굉장히 든든하다!  경험해보면 알 수 있다. log를 보면 모든 것이 그대로 들어있기 때문이다.

    git commit -m "You are my father"

## Git 커밋의 기본루틴

git status -> git add -> git commit -> (퇴근전 or 내킬때) git push

아주 간단하게 축약하면 이렇다. 중간에 add all이냐, 파일을 add한 후 되돌리느냐, commit을 되돌리느냐 의 수많은 옵션들이 존재하지만(꼬임을 낳는 행동들), 일단은 가장 기본은 이렇다. 작업 전에 fetch 혹은 pull을 하는 정도가 추가될 것이다.

## 체크아웃(checkout)

Git의 재미있는 기능 중 하나라고 생각한다. 이걸로 Git은 자유롭게 시공간 여행을 한다. 각 브랜치나 커밋을 탐색하거나 파일의 변경 이력을 되돌릴 수 있다. 

    git checkout <remote name>
    git checkout <commit id>
    git checkout -- <file>

## 삭제(rm)

앞에서 Git은 축적하는 시스템이라고 말했다. 이 개념이 통상적이지 않기 때문에 헷갈릴 수 있는데, 한 마디로 모든 log를 남기는 것이다. 그래서 파일을 삭제할 때에도 커밋을 추가한다. 말하자면 삭제한 상태의 스냅샷을 만드는 것과 같다. 모든 변화가 기록되는 것이니까.

    git rm <file>

## 브랜치(branch)

Git이 다른 버전관리 툴과 차별화되는 핵심 기능이다.  그림을 그려보자면 브랜치들이 죽 몇 개 서 있고 커밋들이 마디를 이루고 있으며 HEAD가 그 마디의 어딘가에 붙어서 바라보고 있는 상황이다. 처음에는 무조건 master 브랜치로 시작하고, 여기서 사용자가 원하는 만큼 가지를 칠 수 있게 되어 있다.
써보면 굉장히 편리하다. 일단 내가 딴 브랜치에서는 뭔짓(?)을 해도 괜찮다는 그 안도감이 있다. Git이 빠른 프로토타이핑에 적합하다는 걸 알 수 있다.

## 리모트(Remote)

처음에 배울 때 브랜치와 리모트가 머릿속에서 섞였었는데 이 책에서 쿨하게 설명하고 있다. 리모트는 다른 컴퓨터에 있다. 참 쉽죠? 아마 처음에 배울 때, origin과 또 다른 팀 리모트가 있는 설계였고, fetch를 하면 origin/master 라는 읽기 전용 브랜치가 생기기 때문에 이 부분에서 헷갈린 것 같다는 걸 이 책을 보고 알았다. 어쨌든 github을 사용하기 위해서도, 리모트 설정은 필수이다. 이 부분은 github의 가이드에 잘 나와 있으니 보면서 하나하나 설정하면 된다.

이 이상의 설명은 많은 좋은 자료들이 있으니 보시면 될 것 같고, ~~일본에는 Git만화도 있다더라~~ 정말 멋진 [개발바보들님의 웹툰](http://www.devpools.kr/2017/01/31/%EA%B0%9C%EB%B0%9C%EB%B0%94%EB%B3%B4%EB%93%A4-1%ED%99%94-git-back-to-the-future/ )도 있다.(보면 한방에 느낌이 확 온다)  개인적으로는 [codecademy](https://www.codecademy.com/)의 git 과 터미널 tutorial을 공부했었는데, 실무로 삽질하는 데는 큰 도움이 되진 않지만 처음 맛보기에는 괜찮다.
입문할 때 한눈에 잘 들어오게 정리된 사이트는 [git-간편안내서](https://rogerdudler.github.io/git-guide/index.ko.html), [Quick learn How to use Git](https://github.com/KennethanCeyer/tutorial-git) 이 있고,
또한 책 본문에서도 소개되어 있듯이 ['프로 git'](https://progit2.s3.amazonaws.com/ko/2015-07-08-5c390/progit-ko.582.pdf)이라는 책도 설명이 잘 되어 있다.

이 책을 보며 이제까지 직관적으로만 써서 Git의 개념 중 확실하지 않았던 부분에 대해서 머릿속의 그림이 좀 더 선명해졌다.

기반 지식에 대한 핵심적이고 간결한 설명과 실용적인 사례별로 정리되어 있어서, 실제 지금 당장 실무에서 Git을 써야 하는 입문자들이 처음부터 참고하거나, 나같이 실무에서 쓰지만 아직 정리가 덜 된 부분이 많은데 도식과 문자의 바다를 싫어하는 사람에게 적합한 책이라고 생각한다. ~~공짜로 받아서 이렇게 쓰는 건 결코 아니...~~, 또한 옆에 두고 상황별 이슈가 생길 때 참고할 것 같다. 특히 본문에서 초보자들을 내쫓는 방법이라고 묘사하는 병합 충돌같은 상황에서 당황해서 머리를 쥐어뜯거나, 스택오버플로우를 뒤지며 벌겋게 얼굴이 달아오르기 전에 이 책을 보면 심신의 안정과 문제해결에 도움이 되리라고 생각하니, 혹시 이런 상황에 처한다면 한 번 뒤적여보도록 하자.

훨씬 더 길게 쓰고 싶었지만 웃기는 영화를 한 편 더 봐야 해서 이만 줄인다. 새해 선물해주신 웹액츄얼리 감사드리고, 대박나는 한해 되세요!


